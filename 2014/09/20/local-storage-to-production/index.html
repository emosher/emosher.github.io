<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>emosher</title><link rel="stylesheet" href="/css/pure-min.css">
<link rel="stylesheet" href="/css/grids-responsive-min.css">
<link rel="stylesheet" href="/css/style.css"></head><body><div id="layout" class="pure-g"><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><h1 class="brand-title"><a href="/">emosher</a></h1><h2 class="brand-tagline">Geek, coder/developer, musician, gamer.</h2><nav class="nav"><ul class="nav-list"><li class="nav-item"><a href="/archives" class="pure-button">archives</a></li><li class="nav-item"><a href="/about" class="pure-button">about</a></li></ul></nav></div></div><div class="content pure-u-1 pure-u-md-3-4"><div class="posts"><div class="post"><div class="post-header"><img height="48" width="48" src="https://www.gravatar.com/avatar/3f3034a2a570fb60297f8dcc538239e6?s=48" class="post-avatar"/><h2 class="post-title">Local Storage to Production</h2><p class="post-meta"><span class="post-date"><i class="icon-clock"></i>2014-09-20 23:29</span><span class="post-tags"><i class="icon-tags"></i><a href="/tags/angularjs-javascript/" class="post-tag">
- angularjs
- javascript</a></span></p></div><div class="post-content"><p>Some of the javascript projects I’ve worked on never left the prototype phase, but others have made it into some form of production. Every once in a while, I encounter something that causes major ripple effects within my frontend code.</p>
<p>What I encountered recently was the difference between synchronous and asynchronous. While the difference is often obvious, it can be easy to overlook. </p>
<h3 id="LocalStorage-is-Synchronous"><a href="#LocalStorage-is-Synchronous" class="headerlink" title="LocalStorage is Synchronous!"></a>LocalStorage is Synchronous!</h3><p>Enter localStorage. I sometimes see apps that are in the prototype phase using local storage as a way to store data. I usually shy away from this method but we recently gave it a shot in an AngularJS project I’m working.</p>
<p>This worked great for a while, until I decided to move to an async API. I then realized that <a href="http://stackoverflow.com/questions/20231163/is-html5-localstorage-asynchronous" target="_blank" rel="external">local storage is synchronous</a>.</p>
<h3 id="Refactors-Abound"><a href="#Refactors-Abound" class="headerlink" title="Refactors Abound"></a>Refactors Abound</h3><p>This realization resulted in a massive refactor. It caused ripple effects <em>everywhere</em> because this app used it <em>everywhere</em>.</p>
<p>There are many <a href="http://kryogenix.org/days/2012/03/20/step-away-from-the-localstorage/" target="_blank" rel="external">articles</a> and <a href="http://www.nczonline.net/blog/2012/03/07/in-defense-of-localstorage/" target="_blank" rel="external">blogs</a> <a href="http://oscargodson.com/posts/why-localstorage-has-already-failed-us.html" target="_blank" rel="external">about</a> <a href="http://www.webdirections.org/blog/localstorage-perhaps-not-so-harmful/" target="_blank" rel="external">this topic</a>.</p>
<p>There’s plenty of information in those links so I leave it up to the reader to form their own opinion of localStorage.</p>
<h3 id="Keep-Production-in-Mind"><a href="#Keep-Production-in-Mind" class="headerlink" title="Keep Production in Mind"></a>Keep Production in Mind</h3><p>It seems to me that the most important part of using localStorage is to keep your end state in mind. What is your app going to do in production?</p>
<p>As developers, we’re often guilty of taking a “get it working now” mentality. In this case, we took this to heart a bit too much and forgot our end state.</p>
<p>Personally, I see a few different uses for localStorage. However, there is no place for localStorage when you will later want to replace it with an async call.</p>
</div><nav id="post-nav"><a id="post-nav-newer" href="/2015/02/22/govern-node-right/" class="post-nav-link-wrap"><strong class="post-nav-caption">Newer</strong><div class="post-nav-title">Govern Node Right</div></a><a id="post-nav-older" href="/2014/08/18/ghost-0-5/" class="post-nav-link-wrap"><strong class="post-nav-caption">Older</strong><div class="post-nav-title">Ghost 0.5</div></a></nav></div></div><div class="footer"><div class="social-link"><a href="http://weibo.com/" target="_blank"><i class="icon-weibo"></i></a><a href="https://github.com/emosher" target="_blank"><i class="icon-github"></i></a><a href="https://plus.google.com/" target="_blank"><i class="icon-gplus"></i></a><a href="https://twitter.com/emoshmosh" target="_blank"><i class="icon-twitter"></i></a></div><div class="copyright">&copy; 2016 Eric Mosher.
Powered by <a href="http://hexo.io" target="_blank">Hexo</a>
using <a href="https://github.com/saintwinkle/hexo-theme-pure" target="_blank">Pure</a> theme.</div></div></div><script src="/js/script.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-49958928-1', 'auto');
ga('send', 'pageview');</script></div></body></html>